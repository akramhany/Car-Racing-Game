;THE FUNCTIONALITY OF THIS CODE IS DRAWING THE CAR


CAR1 PROC FAR

CMP STATE1 , 0      
JNZ CAR1_RIGHT
;PERFORM EQUATION CENTER-(WIDTH/2)-(320*HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (TOP CAR1_LEFT IN THE SCREEN)
;CALCULATE (320*HEIGHT/2) TERM
MOV BX,320          
MOV AX,HEIGHT1
shr AX,1
MUL BX
PUSH AX

;CALCULATE WIDTH/2 TERM
MOV AX , WIDTH1
shr AX,1

;GET THE REQUIRED POINT
MOV BX , CENTER1
SUB BX ,AX
POP AX
SUB BX,AX

PUSH BX

MOV AX,BX
MOV DX,HEIGHT1  
MOV SI,OFFSET IMG1

CAR1_UPROW:
MOV DI,AX
MOV CX,WIDTH1


CAR1_LOOP1:
MOV AL,[SI]
STOSB
INC SI
LOOP CAR1_LOOP1

POP AX
ADD AX,320      ; MOVE TO THE NEXT ROW
PUSH AX
DEC DX          
CMP DX , 0
JNZ CAR1_UPROW
POP AX
JMP CAR1_EXIT



CAR1_RIGHT:
CMP STATE1 , 1
JNZ CAR1_LEFT
;PERFORM EQUATION CENTER-(WIDTH*320/2)+(HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (TOP CAR1_RIGHT IN THE SCREEN)
;CALCULATE (HEIGHT/2) TERM
MOV AX , HEIGHT1
shr AX,1
PUSH AX

;CALCULATE WIDTH*320/2 TERM
MOV BX,320
MOV AX,WIDTH1
shr AX,1
MUL BX

;GET THE REQUIRED POINT
MOV BX , CENTER1
SUB BX ,AX
POP AX
ADD BX,AX

PUSH BX

MOV AX,BX

MOV DX,HEIGHT1
MOV SI,OFFSET IMG1


CAR1_RIGHTCOLUMN:
MOV DI,AX
MOV CX,WIDTH1

CAR1_LOOP2:
MOV AL,[SI]
PUSH DI
STOSB
POP DI
INC SI
ADD DI,320
LOOP CAR1_LOOP2
POP AX
SUB AX,1
PUSH AX
DEC DX
CMP DX , 0
JNZ CAR1_RIGHTCOLUMN
POP AX
JMP CAR1_EXIT



CAR1_LEFT:
CMP STATE1,2
JNZ CAR1_DOWN

;PERFORM EQUATION CENTER+(WIDTH*320/2)-(HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (BOTTOM CAR1_LEFT IN THE SCREEN)
;CALCULATE (HEIGHT/2) TERM
MOV AX , HEIGHT1
shr AX,1
PUSH AX

;CALCULATE WIDTH*320/2 TERM
MOV BX,320
MOV AX,WIDTH1
shr AX,1
MUL BX

;GET THE REQUIRED POINT
MOV BX , CENTER1
ADD BX ,AX
POP AX
SUB BX,AX

PUSH BX


MOV AX,BX
MOV DX,HEIGHT1
MOV SI,OFFSET IMG1


CAR1_LEFTCOLUMN:
MOV DI,AX
MOV CX,WIDTH1

CAR1_LOOP3: 
MOV AL,[SI]
PUSH DI
STOSB
POP DI
INC SI
SUB DI,320
LOOP CAR1_LOOP3
POP AX
ADD AX,1
PUSH AX
DEC DX
CMP DX , 0
JNZ CAR1_LEFTCOLUMN
POP AX
JMP CAR1_EXIT



CAR1_DOWN:
;PERFORM EQUATION CENTER+(WIDTH/2)+(320*HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (TOP CAR1_LEFT IN THE SCREEN)
;CALCULATE (320*HEIGHT/2) TERM
MOV BX,320
MOV AX,HEIGHT1
shr AX,1
MUL BX
PUSH AX

;CALCULATE WIDTH/2 TERM
MOV AX , WIDTH1
shr AX,1

;GET THE REQUIRED POINT
MOV BX , CENTER1
ADD BX ,AX
POP AX
ADD BX,AX

PUSH BX

MOV AX,BX
MOV DX,HEIGHT1
MOV SI,OFFSET IMG1


CAR1_DOWNROW:
MOV DI,AX
MOV CX,WIDTH1

CAR1_LOOP4:
MOV AL,[SI]
STOSB
SUB DI,2
INC SI
LOOP CAR1_LOOP4
POP AX
SUB AX,320
PUSH AX
DEC DX
CMP DX , 0
JNZ CAR1_DOWNROW
POP AX
CAR1_EXIT:
RET

CAR1 ENDP





;----------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------




CAR2 PROC FAR

CMP STATE2 , 0      
JNZ CAR2_RIGHT2
;PERFORM EQUATION CENTER-(WIDTH/2)-(320*HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (TOP CAR1_LEFT IN THE SCREEN)
;CALCULATE (320*HEIGHT/2) TERM
MOV BX,320          
MOV AX,HEIGHT2
shr AX,1
MUL BX
PUSH AX

;CALCULATE WIDTH/2 TERM
MOV AX , WIDTH2
shr AX,1

;GET THE REQUIRED POINT
MOV BX , CENTER2
SUB BX ,AX
POP AX
SUB BX,AX

PUSH BX

MOV AX,BX
MOV DX,HEIGHT2  
MOV SI,OFFSET IMG2


CAR2_UPROW2:
MOV DI,AX
MOV CX,WIDTH2

CAR2_LOOP21:
MOV AL,[SI]
STOSB
INC SI
LOOP CAR2_LOOP21

POP AX
ADD AX,320      ; MOVE TO THE NEXT ROW
PUSH AX
DEC DX          
CMP DX , 0
JNZ CAR2_UPROW2
POP AX
JMP CAR2_EXIT2



CAR2_RIGHT2:
CMP STATE2 , 1
JNZ CAR2_LEFT2
;PERFORM EQUATION CENTER-(WIDTH*320/2)+(HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (TOP CAR1_RIGHT IN THE SCREEN)
;CALCULATE (HEIGHT/2) TERM
MOV AX , HEIGHT2
shr AX,1
PUSH AX

;CALCULATE WIDTH*320/2 TERM
MOV BX,320
MOV AX,WIDTH2
shr AX,1
MUL BX

;GET THE REQUIRED POINT
MOV BX , CENTER2
SUB BX ,AX
POP AX
ADD BX,AX

PUSH BX

MOV AX,BX

MOV DX,HEIGHT2
MOV SI,OFFSET IMG2


CAR2_RIGHTCOLUMN2:
MOV DI,AX
MOV CX,WIDTH2

CAR2_LOOP22:

MOV AL,[SI]
PUSH DI
STOSB
POP DI
INC SI
ADD DI,320
LOOP CAR2_LOOP22
POP AX
SUB AX,1
PUSH AX
DEC DX
CMP DX , 0
JNZ CAR2_RIGHTCOLUMN2
POP AX
JMP CAR2_EXIT2



CAR2_LEFT2:
CMP STATE2,2
JNZ CAR2_DOWN2

;PERFORM EQUATION CENTER+(WIDTH*320/2)-(HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (BOTTOM CAR1_LEFT IN THE SCREEN)
;CALCULATE (HEIGHT/2) TERM
MOV AX , HEIGHT2
shr AX,1
PUSH AX

;CALCULATE WIDTH*320/2 TERM
MOV BX,320
MOV AX,WIDTH2
shr AX,1
MUL BX

;GET THE REQUIRED POINT
MOV BX , CENTER2
ADD BX ,AX
POP AX
SUB BX,AX

PUSH BX


MOV AX,BX
MOV DX,HEIGHT2
MOV SI,OFFSET IMG2


CAR2_LEFTCOLUMN2:
MOV DI,AX
MOV CX,WIDTH2

CAR2_LOOP23: 
MOV AL,[SI]
PUSH DI
STOSB
POP DI
INC SI
SUB DI,320
LOOP CAR2_LOOP23
POP AX
ADD AX,1
PUSH AX
DEC DX
CMP DX , 0
JNZ CAR2_LEFTCOLUMN2
POP AX
JMP CAR2_EXIT2



CAR2_DOWN2:
;PERFORM EQUATION CENTER+(WIDTH/2)+(320*HEIGHT/2) TO GET TOP CAR1_LEFT POINT OF THE CAR (TOP CAR1_LEFT IN THE SCREEN)
;CALCULATE (320*HEIGHT/2) TERM
MOV BX,320
MOV AX,HEIGHT2
shr AX,1
MUL BX
PUSH AX

;CALCULATE WIDTH/2 TERM
MOV AX , WIDTH2
shr AX,1

;GET THE REQUIRED POINT
MOV BX , CENTER2
ADD BX ,AX
POP AX
ADD BX,AX

PUSH BX

MOV AX,BX
MOV DX,HEIGHT2
MOV SI,OFFSET IMG2


CAR2_DOWNROW2:
MOV DI,AX
MOV CX,WIDTH2

CAR2_LOOP24:
MOV AL,[SI]
STOSB
SUB DI,2
INC SI
LOOP CAR2_LOOP24
POP AX
SUB AX,320
PUSH AX
DEC DX
CMP DX , 0
JNZ CAR2_DOWNROW2
POP AX
CAR2_EXIT2:

RET
CAR2 ENDP

